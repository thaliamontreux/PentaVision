{% extends 'base.html' %}

{% block title %}Sign in Â· PentaVision{% endblock %}

{% block splash_extra %}
  <div id="pv-login-box" class="pv-login-box pv-login-box-hidden">
    {% if errors %}
      <div class="pv-alert pv-alert-error" role="alert" style="margin-bottom: 0.75rem;">
        <ul>
          {% for error in errors %}
            <li>{{ error }}</li>
          {% endfor %}
        </ul>
      </div>
    {% endif %}

    <h2 class="pv-login-title">Sign in</h2>

    <form method="post" class="pv-login-form">
      <input type="hidden" name="csrf_token" value="{{ global_csrf_token }}" />
      <input type="hidden" name="next" value="{{ next }}" />

      <div class="pv-field-group">
        <label for="email">Email</label>
        <input
          id="email"
          name="email"
          type="email"
          required
          autocomplete="username"
          value="{{ email }}"
        />
      </div>

      <div class="pv-field-group">
        <label for="password">Password</label>
        <input
          id="password"
          name="password"
          type="password"
          required
          autocomplete="current-password"
        />
      </div>

      <div class="pv-field-group">
        <label for="totp_code">TOTP code (if enabled)</label>
        <input
          id="totp_code"
          name="totp_code"
          type="text"
          autocomplete="one-time-code"
        />
      </div>

      <button type="submit" class="pv-login-button">
        Sign in
      </button>
    </form>
  </div>
{% endblock %}

{% block content %}
  {# Main content is intentionally minimal on the login page because the
     primary interaction happens in the splash overlay login box. #}
{% endblock %}
